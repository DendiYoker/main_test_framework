{"uid":"21ac706d669f11bb","name":"Тест с несколькими soft assertions","fullName":"tests.test_allure_features.TestSoftAssertions#test_multiple_soft_asserts","historyId":"237c6b139427395f9f71b6c8935b6fa9","time":{"start":1768858162586,"stop":1768858162588,"duration":2},"description":"Демонстрация soft assertions - все проверки выполняются","descriptionHtml":"<p>Демонстрация soft assertions - все проверки выполняются</p>\n","status":"failed","statusMessage":"Failed: Найдены ошибки:\nМатематика сломалась\nassert (1 + 1) == 3\nНеверная длина списка\nassert 4 == 3\n +  where 4 = len([1, 2, 3, 4])","statusTrace":"self = <tests.test_allure_features.TestSoftAssertions object at 0x7efc9e3fbc50>\n\n    @allure.story(\"Множественные проверки\")\n    @allure.title(\"Тест с несколькими soft assertions\")\n    def test_multiple_soft_asserts(self):\n        \"\"\"Демонстрация soft assertions - все проверки выполняются\"\"\"\n        errors = []\n    \n        with allure.step(\"Проверка 1: Математика\"):\n            try:\n                assert 1 + 1 == 3, \"Математика сломалась\"\n                allure.attach(\"✅ Проверка 1 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n                allure.attach(f\"❌ {e}\", name=\"Ошибка\", attachment_type=allure.attachment_type.TEXT)\n    \n        with allure.step(\"Проверка 2: Строки\"):\n            try:\n                assert \"hello\".upper() == \"HELLO\", \"Строки не совпадают\"\n                allure.attach(\"✅ Проверка 2 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n    \n        with allure.step(\"Проверка 3: Список\"):\n            try:\n                assert len([1, 2, 3, 4]) == 3, \"Неверная длина списка\"\n                allure.attach(\"✅ Проверка 3 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n    \n        with allure.step(\"Итоговая проверка\"):\n            if errors:\n                error_message = \"\\n\".join(errors)\n                allure.attach(error_message, name=\"Все ошибки\", attachment_type=allure.attachment_type.TEXT)\n>               pytest.fail(f\"Найдены ошибки:\\n{error_message}\")\nE               Failed: Найдены ошибки:\nE               Математика сломалась\nE               assert (1 + 1) == 3\nE               Неверная длина списка\nE               assert 4 == 3\nE                +  where 4 = len([1, 2, 3, 4])\n\ntests/test_allure_features.py:101: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"global_setup","time":{"start":1768858162546,"stop":1768858162547,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"94f01bcfc9a9d44b","name":"2026-01-19 21:29:22: Starting test session at 2026-01-19 21:29:22.546273","source":"94f01bcfc9a9d44b.txt","type":"text/plain","size":10}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768858162547,"stop":1768858162547,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config_parser_fix","time":{"start":1768858162586,"stop":1768858162586,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"195ee6fd238eea25","name":"2026-01-19 21:29:22: добавлены настройки по стенду: {'url': \"'url psi'\", 'bd': \"{'host':'testhosts', 'database':'TEST', 'user': 'testov','pwd':'3333'}\"} из config.ini, в env_settings.stand_settings ","source":"195ee6fd238eea25.txt","type":"text/plain","size":10}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"args_stand","time":{"start":1768858162586,"stop":1768858162586,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Демонстрация soft assertions - все проверки выполняются","status":"failed","statusMessage":"Failed: Найдены ошибки:\nМатематика сломалась\nassert (1 + 1) == 3\nНеверная длина списка\nassert 4 == 3\n +  where 4 = len([1, 2, 3, 4])","statusTrace":"self = <tests.test_allure_features.TestSoftAssertions object at 0x7efc9e3fbc50>\n\n    @allure.story(\"Множественные проверки\")\n    @allure.title(\"Тест с несколькими soft assertions\")\n    def test_multiple_soft_asserts(self):\n        \"\"\"Демонстрация soft assertions - все проверки выполняются\"\"\"\n        errors = []\n    \n        with allure.step(\"Проверка 1: Математика\"):\n            try:\n                assert 1 + 1 == 3, \"Математика сломалась\"\n                allure.attach(\"✅ Проверка 1 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n                allure.attach(f\"❌ {e}\", name=\"Ошибка\", attachment_type=allure.attachment_type.TEXT)\n    \n        with allure.step(\"Проверка 2: Строки\"):\n            try:\n                assert \"hello\".upper() == \"HELLO\", \"Строки не совпадают\"\n                allure.attach(\"✅ Проверка 2 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n    \n        with allure.step(\"Проверка 3: Список\"):\n            try:\n                assert len([1, 2, 3, 4]) == 3, \"Неверная длина списка\"\n                allure.attach(\"✅ Проверка 3 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n    \n        with allure.step(\"Итоговая проверка\"):\n            if errors:\n                error_message = \"\\n\".join(errors)\n                allure.attach(error_message, name=\"Все ошибки\", attachment_type=allure.attachment_type.TEXT)\n>               pytest.fail(f\"Найдены ошибки:\\n{error_message}\")\nE               Failed: Найдены ошибки:\nE               Математика сломалась\nE               assert (1 + 1) == 3\nE               Неверная длина списка\nE               assert 4 == 3\nE                +  where 4 = len([1, 2, 3, 4])\n\ntests/test_allure_features.py:101: Failed","steps":[{"name":"Проверка 1: Математика","time":{"start":1768858162587,"stop":1768858162587,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"b547741fcf1e975d","name":"Ошибка","source":"b547741fcf1e975d.txt","type":"text/plain","size":63}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Проверка 2: Строки","time":{"start":1768858162587,"stop":1768858162587,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"e48eff3bad318ff3","name":"Результат","source":"e48eff3bad318ff3.txt","type":"text/plain","size":39}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Проверка 3: Список","time":{"start":1768858162587,"stop":1768858162587,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Итоговая проверка","time":{"start":1768858162587,"stop":1768858162587,"duration":0},"status":"failed","statusMessage":"Failed: Найдены ошибки:\nМатематика сломалась\nassert (1 + 1) == 3\nНеверная длина списка\nassert 4 == 3\n +  where 4 = len([1, 2, 3, 4])\n","statusTrace":"  File \"/home/runner/work/main_test_framework/main_test_framework/tests/test_allure_features.py\", line 101, in test_multiple_soft_asserts\n    pytest.fail(f\"Найдены ошибки:\\n{error_message}\")\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.11/x64/lib/python3.13/site-packages/_pytest/outcomes.py\", line 163, in __call__\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[{"uid":"e3f6e959e6d70c65","name":"Все ошибки","source":"e3f6e959e6d70c65.txt","type":"text/plain","size":146}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"5fd1f0fa0963f9cb","name":"log","source":"5fd1f0fa0963f9cb.txt","type":"text/plain","size":240},{"uid":"94c79846f637d5a1","name":"stderr","source":"94c79846f637d5a1.txt","type":"text/plain","size":240}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"global_setup::0","time":{"start":1768858165529,"stop":1768858165529,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Множественные проверки"},{"name":"epic","value":"Демонстрация Allure"},{"name":"feature","value":"Soft Assertions"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_allure_features"},{"name":"subSuite","value":"TestSoftAssertions"},{"name":"host","value":"runnervmmtnos"},{"name":"thread","value":"3539-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_allure_features"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"21ac706d669f11bb.json","parameterValues":[]}