{"uid":"8904e97ac5e3100","name":"Тест с несколькими soft assertions","fullName":"tests.test_allure_features.TestSoftAssertions#test_multiple_soft_asserts","historyId":"237c6b139427395f9f71b6c8935b6fa9","time":{"start":1768687521995,"stop":1768687522002,"duration":7},"description":"Демонстрация soft assertions - все проверки выполняются","descriptionHtml":"<p>Демонстрация soft assertions - все проверки выполняются</p>\n","status":"failed","statusMessage":"Failed: Найдены ошибки:\nМатематика сломалась\nassert (1 + 1) == 3\nНеверная длина списка\nassert 4 == 3\n +  where 4 = len([1, 2, 3, 4])","statusTrace":"self = <test_allure_features.TestSoftAssertions object at 0x7f4b67974a50>\n\n    @allure.story(\"Множественные проверки\")\n    @allure.title(\"Тест с несколькими soft assertions\")\n    def test_multiple_soft_asserts(self):\n        \"\"\"Демонстрация soft assertions - все проверки выполняются\"\"\"\n        errors = []\n    \n        with allure.step(\"Проверка 1: Математика\"):\n            try:\n                assert 1 + 1 == 3, \"Математика сломалась\"\n                allure.attach(\"✅ Проверка 1 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n                allure.attach(f\"❌ {e}\", name=\"Ошибка\", attachment_type=allure.attachment_type.TEXT)\n    \n        with allure.step(\"Проверка 2: Строки\"):\n            try:\n                assert \"hello\".upper() == \"HELLO\", \"Строки не совпадают\"\n                allure.attach(\"✅ Проверка 2 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n    \n        with allure.step(\"Проверка 3: Список\"):\n            try:\n                assert len([1, 2, 3, 4]) == 3, \"Неверная длина списка\"\n                allure.attach(\"✅ Проверка 3 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n    \n        with allure.step(\"Итоговая проверка\"):\n            if errors:\n                error_message = \"\\n\".join(errors)\n                allure.attach(error_message, name=\"Все ошибки\", attachment_type=allure.attachment_type.TEXT)\n>               pytest.fail(f\"Найдены ошибки:\\n{error_message}\")\nE               Failed: Найдены ошибки:\nE               Математика сломалась\nE               assert (1 + 1) == 3\nE               Неверная длина списка\nE               assert 4 == 3\nE                +  where 4 = len([1, 2, 3, 4])\n\ntests/test_allure_features.py:101: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"global_setup","time":{"start":1768687521951,"stop":1768687521951,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"e0c92449508f69e6","name":"2026-01-17 22:05:21: Starting test session at 2026-01-17 22:05:21.950608","source":"e0c92449508f69e6.txt","type":"text/plain","size":10}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1768687521951,"stop":1768687521951,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"args_stand","time":{"start":1768687521994,"stop":1768687521995,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"config_parser_fix","time":{"start":1768687521995,"stop":1768687521995,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"12f61487a31f9aec","name":"2026-01-17 22:05:21: добавлены настройки по стенду: {'url': \"'url psi'\", 'bd': \"{'host':'testhosts', 'database':'TEST', 'user': 'testov','pwd':'3333'}\"} из config.ini, в env_settings.stand_settings ","source":"12f61487a31f9aec.txt","type":"text/plain","size":10}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Демонстрация soft assertions - все проверки выполняются","status":"failed","statusMessage":"Failed: Найдены ошибки:\nМатематика сломалась\nassert (1 + 1) == 3\nНеверная длина списка\nassert 4 == 3\n +  where 4 = len([1, 2, 3, 4])","statusTrace":"self = <test_allure_features.TestSoftAssertions object at 0x7f4b67974a50>\n\n    @allure.story(\"Множественные проверки\")\n    @allure.title(\"Тест с несколькими soft assertions\")\n    def test_multiple_soft_asserts(self):\n        \"\"\"Демонстрация soft assertions - все проверки выполняются\"\"\"\n        errors = []\n    \n        with allure.step(\"Проверка 1: Математика\"):\n            try:\n                assert 1 + 1 == 3, \"Математика сломалась\"\n                allure.attach(\"✅ Проверка 1 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n                allure.attach(f\"❌ {e}\", name=\"Ошибка\", attachment_type=allure.attachment_type.TEXT)\n    \n        with allure.step(\"Проверка 2: Строки\"):\n            try:\n                assert \"hello\".upper() == \"HELLO\", \"Строки не совпадают\"\n                allure.attach(\"✅ Проверка 2 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n    \n        with allure.step(\"Проверка 3: Список\"):\n            try:\n                assert len([1, 2, 3, 4]) == 3, \"Неверная длина списка\"\n                allure.attach(\"✅ Проверка 3 пройдена\", name=\"Результат\", attachment_type=allure.attachment_type.TEXT)\n            except AssertionError as e:\n                errors.append(str(e))\n    \n        with allure.step(\"Итоговая проверка\"):\n            if errors:\n                error_message = \"\\n\".join(errors)\n                allure.attach(error_message, name=\"Все ошибки\", attachment_type=allure.attachment_type.TEXT)\n>               pytest.fail(f\"Найдены ошибки:\\n{error_message}\")\nE               Failed: Найдены ошибки:\nE               Математика сломалась\nE               assert (1 + 1) == 3\nE               Неверная длина списка\nE               assert 4 == 3\nE                +  where 4 = len([1, 2, 3, 4])\n\ntests/test_allure_features.py:101: Failed","steps":[{"name":"Проверка 1: Математика","time":{"start":1768687521995,"stop":1768687521996,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"bc6d27a33d6f753b","name":"Ошибка","source":"bc6d27a33d6f753b.txt","type":"text/plain","size":63}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Проверка 2: Строки","time":{"start":1768687521996,"stop":1768687521996,"duration":0},"status":"passed","steps":[],"attachments":[{"uid":"1898b992438a10c0","name":"Результат","source":"1898b992438a10c0.txt","type":"text/plain","size":39}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Проверка 3: Список","time":{"start":1768687521996,"stop":1768687521996,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Итоговая проверка","time":{"start":1768687521996,"stop":1768687521996,"duration":0},"status":"failed","statusMessage":"Failed: Найдены ошибки:\nМатематика сломалась\nassert (1 + 1) == 3\nНеверная длина списка\nassert 4 == 3\n +  where 4 = len([1, 2, 3, 4])\n","statusTrace":"  File \"/home/runner/work/main_test_framework/main_test_framework/tests/test_allure_features.py\", line 101, in test_multiple_soft_asserts\n    pytest.fail(f\"Найдены ошибки:\\n{error_message}\")\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.13.11/x64/lib/python3.13/site-packages/_pytest/outcomes.py\", line 177, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[{"uid":"1b2b4b8f1672379f","name":"Все ошибки","source":"1b2b4b8f1672379f.txt","type":"text/plain","size":146}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"852c43bb43b38aff","name":"log","source":"852c43bb43b38aff.txt","type":"text/plain","size":240},{"uid":"333a881f5bfc267e","name":"stderr","source":"333a881f5bfc267e.txt","type":"text/plain","size":240}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"global_setup::0","time":{"start":1768687524943,"stop":1768687524943,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Soft Assertions"},{"name":"epic","value":"Демонстрация Allure"},{"name":"story","value":"Множественные проверки"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_allure_features"},{"name":"subSuite","value":"TestSoftAssertions"},{"name":"host","value":"runnervmmtnos"},{"name":"thread","value":"3447-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_allure_features"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"8904e97ac5e3100.json","parameterValues":[]}